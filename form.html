<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="sidebar">
        <ul>
            <li><a href="index.html">Início</a></li>
            <li><a href="form.html" class="active">Formulário</a></li>
            <li><a href="about.html">Sobre</a></li>
        </ul>
    </div>
    <div class="content">
        <h1 class="titleTop">Formulário de Serviço</h1>
        <form action="formAction.html" method="get">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" placeholder="Seu nome" name="nome" required>

            <label for="email">Email:</label>
            <input type="email" id="email" placeholder="seuemail@email.com" name="email" required>

            <label for="contato">Número de Contato:</label>
            <input type="tel" id="contato" placeholder="(XX) XXXXXXXXX" name="contato"
                pattern="\(\d{2}\)\s\d{4,5}-\d{4}$" onkeydown="return mascaraTelefone(event)" required>

            <label for="servico">Serviço:</label>
            <input type="text" id="servico" name="servico" required>

            <button type="submit">Enviar</button>
        </form>
    </div>
    <script>
        function mascaraTelefone(event) {
            let tecla = event.key;
            let telefone = event.target.value.replace(/\D+/g, "");

            if (/^[0-9]$/i.test(tecla)) {
                telefone = telefone + tecla;
                let tamanho = telefone.length;

                if (tamanho >= 12) {
                    return false;
                }

                if (tamanho > 10) {
                    telefone = telefone.replace(/^(\d\d)(\d{5})(\d{4}).*/, "($1) $2-$3");
                } else if (tamanho > 5) {
                    telefone = telefone.replace(/^(\d\d)(\d{4})(\d{0,4}).*/, "($1) $2-$3");
                } else if (tamanho > 2) {
                    telefone = telefone.replace(/^(\d\d)(\d{0,5})/, "($1) $2");
                } else {
                    telefone = telefone.replace(/^(\d*)/, "($1");
                }

                event.target.value = telefone;
            }

            if (!["Backspace", "Delete", "Tab"].includes(tecla)) {
                return false;
            }
        }
        const urlParams = new URLSearchParams(window.location.search);
        const service = urlParams.get('service');
        if (service) {
            document.getElementById('servico').value = service;
        }


    </script>
</body>

</html>